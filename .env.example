# Jubilee Solutions - Environment Configuration
# Copy this file to .env and fill in the values
#
# IMPORTANT: Environment separation is strictly enforced.
# Production data cannot be accessed from development environments.

# ============================================================================
# ENVIRONMENT
# ============================================================================

# CRITICAL: This determines which databases are accessed
# Values: development, staging, production
NODE_ENV=development
JUBILEE_ENV=development

# ============================================================================
# THREE-DATABASE ARCHITECTURE
# ============================================================================

# Codex Database - Identity & Canonical System of Record
# Port 5432 (development)
DB_CODEX_HOST=localhost
DB_CODEX_PORT=5432
DB_CODEX_NAME=jubilee_codex
DB_CODEX_USER=jubilee
DB_CODEX_PASSWORD=jubilee_dev_codex
DB_CODEX_SSL=false
DB_CODEX_POOL_SIZE=5

# Inspire Database - Ministry Content
# Port 5433 (development)
DB_INSPIRE_HOST=localhost
DB_INSPIRE_PORT=5433
DB_INSPIRE_NAME=jubilee_inspire
DB_INSPIRE_USER=jubilee
DB_INSPIRE_PASSWORD=jubilee_dev_inspire
DB_INSPIRE_SSL=false
DB_INSPIRE_POOL_SIZE=5

# Continuum Database - User Data & Activity
# Port 5434 (development)
DB_CONTINUUM_HOST=localhost
DB_CONTINUUM_PORT=5434
DB_CONTINUUM_NAME=jubilee_continuum
DB_CONTINUUM_USER=jubilee
DB_CONTINUUM_PASSWORD=jubilee_dev_continuum
DB_CONTINUUM_SSL=false
DB_CONTINUUM_POOL_SIZE=5

# Legacy single-database fallback (for migration period)
DB_HOST=localhost
DB_PORT=5432
DB_USER=jubilee
DB_PASSWORD=jubilee_dev_password

# ============================================================================
# CACHING & SESSIONS
# ============================================================================

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================================================
# VECTOR DATABASE
# ============================================================================

# Qdrant
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=

# ============================================================================
# AI PROVIDERS
# ============================================================================

# OpenAI (Primary)
OPENAI_API_KEY=sk-your-openai-key
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=4096

# Anthropic (Backup)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key
ANTHROPIC_MODEL=claude-3-opus-20240229

# ============================================================================
# SECURITY
# ============================================================================

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_ACCESS_TOKEN_EXPIRY=900
JWT_REFRESH_TOKEN_EXPIRY=2592000

# Session Configuration
SESSION_SECRET=your-session-secret-key-change-in-production

# ============================================================================
# API SERVICES
# ============================================================================

# Codex API (Identity & Platform)
CODEX_API_PORT=4001
CODEX_API_URL=http://localhost:4001

# Inspire API (Ministry Content)
INSPIRE_API_PORT=4002
INSPIRE_API_URL=http://localhost:4002

# Continuum API (User Data)
CONTINUUM_API_PORT=4003
CONTINUUM_API_URL=http://localhost:4003

# ============================================================================
# CORS & NETWORKING
# ============================================================================

# Allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002,http://localhost:3003,http://localhost:3004,http://localhost:3005,http://localhost:3006,http://localhost:3007,http://localhost:3008

# ============================================================================
# EMAIL (Development)
# ============================================================================

SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@jubilee.local

# ============================================================================
# LOGGING
# ============================================================================

LOG_LEVEL=debug
LOG_FORMAT=pretty

# ============================================================================
# PRODUCTION OVERRIDES (Use separate .env.production file)
# ============================================================================

# PROD_DB_CODEX_HOST=your-production-host
# PROD_DB_CODEX_PORT=5432
# PROD_DB_CODEX_NAME=codex_prod
# PROD_DB_CODEX_USER=codex_user
# PROD_DB_CODEX_PASSWORD=secure-production-password
# PROD_DB_CODEX_SSL=true
