<Window x:Class="JubileeVibes.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:shell="clr-namespace:JubileeVibes.Views.Shell"
        mc:Ignorable="d"
        Title="JubileeVibes"
        Icon="/Resources/Icons/app.ico"
        Width="1400" Height="900"
        MinWidth="300" MinHeight="200"
        WindowStyle="None"
        AllowsTransparency="False"
        ResizeMode="CanResizeWithGrip"
        Background="{StaticResource BackgroundPrimaryBrush}"
        WindowStartupLocation="CenterScreen">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="32"
                      ResizeBorderThickness="5"
                      GlassFrameThickness="0"
                      CornerRadius="0"
                      UseAeroCaptionButtons="False"/>
    </WindowChrome.WindowChrome>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="32"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Custom Title Bar -->
        <Grid Grid.Row="0" Background="{StaticResource BackgroundPrimaryBrush}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- App Title / Navigation -->
            <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="8,0">
                <!-- App Icon -->
                <Image Source="/Resources/Icons/jubilee-profile.png"
                       Width="20" Height="20"
                       VerticalAlignment="Center"
                       Margin="4,0,8,0"
                       RenderOptions.BitmapScalingMode="HighQuality"/>

                <!-- Back/Forward buttons -->
                <Button x:Name="BackButton"
                        Style="{StaticResource IconButtonStyle}"
                        Width="32" Height="32"
                        Click="BackButton_Click"
                        WindowChrome.IsHitTestVisibleInChrome="True"
                        ToolTip="Go back">
                    <Path Data="{StaticResource BackIcon}"
                          Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                          Width="16" Height="16"
                          Stretch="Uniform"/>
                </Button>
                <Button x:Name="ForwardButton"
                        Style="{StaticResource IconButtonStyle}"
                        Width="32" Height="32"
                        Click="ForwardButton_Click"
                        WindowChrome.IsHitTestVisibleInChrome="True"
                        ToolTip="Go forward">
                    <Path Data="{StaticResource ForwardIcon}"
                          Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                          Width="16" Height="16"
                          Stretch="Uniform"/>
                </Button>

                <!-- App Name -->
                <TextBlock Text="JubileeVibes"
                           Foreground="{StaticResource TextPrimaryBrush}"
                           FontSize="14"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center"
                           Margin="16,0,0,0"/>
            </StackPanel>

            <!-- Window Controls -->
            <StackPanel Grid.Column="1"
                        Orientation="Horizontal"
                        WindowChrome.IsHitTestVisibleInChrome="True">
                <Button x:Name="MinimizeButton"
                        Style="{StaticResource WindowControlButtonStyle}"
                        Click="MinimizeButton_Click"
                        ToolTip="Minimize">
                    <Path Data="{StaticResource MinimizeIcon}"
                          Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                          Width="12" Height="12"
                          Stretch="Uniform"/>
                </Button>
                <Button x:Name="MaximizeButton"
                        Style="{StaticResource WindowControlButtonStyle}"
                        Click="MaximizeButton_Click"
                        ToolTip="Maximize">
                    <Path x:Name="MaximizeIcon"
                          Data="{StaticResource MaximizeIcon}"
                          Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                          Width="12" Height="12"
                          Stretch="Uniform"/>
                </Button>
                <Button x:Name="CloseButton"
                        Style="{StaticResource CloseButtonStyle}"
                        Click="CloseButton_Click"
                        ToolTip="Close">
                    <Path Data="{StaticResource CloseIcon}"
                          Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                          Width="12" Height="12"
                          Stretch="Uniform"/>
                </Button>
            </StackPanel>
        </Grid>

        <!-- Main Content (Shell) -->
        <shell:ShellView Grid.Row="1"/>
    </Grid>
</Window>
